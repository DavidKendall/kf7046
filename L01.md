---
layout: default
title: Introduction to Virtualbox and Ubuntu desktop
license: not needed
---

## Introduction
Your aim in this lab is to ensure that you are familiar with the lab
environment and to create a Virtualbox VM that runs Ubuntu Desktop
16.04 LTS and can connect to the off-campus network. You should also 
be able to capture network traffic generated by your VM using Wireshark.


## Getting Started


1. Make sure that your PC is running Ubuntu, is connected to the off-campus
network and that the network interface can be configured by the DHCP
server. 

1. If you are unfamiliar with the basic concepts and terminology of VMs,
read the <a
href="https://www.virtualbox.org/manual/ch01.html#idp9019728">first
two sections</a> in Chapter 1 of the Virtualbox manual.

1. Ensure that you have a copy of the Ubuntu Desktop 16.04 LTS (64-bit)
ISO image in your filespace (ask your lab tutor if you are unsure
where to find it). 
<br/>
Follow the instructions in the Virtualbox manual <a
href="https://www.virtualbox.org/manual/ch01.html#gui-createvm"> to create your first virtual
machine</a>.<br/>
**Notes**
<br/>
    * Use your username followed by "-dt" as the name of your machine, e.g.
    `cgdk2-dt`. `Type` should be `Linux` and
    `Version` should be `Ubuntu`.

    * Accept the defaults for memory size, hard drive size, hard drive file
    type, storage on physical hard drive and file storage location.

    * Start your new VM and browse to find the ISO image for your OS. Click
    `Start`.

    * Wait while your OS starts to boot and then choose the `Install Ubuntu`
    option.

    * Make progress by continuing to accept the defaults until prompted for
    your username, computer name and password. Choose "student" and
    "northumbria" as your username and password and your VM name as your
    computer name, e.g. `cgdk2-dt`.

    * When installation is complete (may take 10 minutes or more), select
    `Restart now` and then log in to your new OS.

1. Before going further, it's a good idea to update the packages on your new server, as follows:

   ``` shell_session
   $ sudo apt-get update
   $ sudo apt-get upgrade
   ```
1. There are many good editors available for Unix/Linux. One powerful editor
   that is always likely to be available on your system, whether desktop or
   server, is `vim`. It's an 'old-school' editor but still [the editor of
   choice for DevOps and Sys
   admins](http://stackoverflow.com/research/developer-survey-2015?ref=survey-2016#tech-editor).
   In other words, if you need to look after an operating system, it's a good
   idea to know how to use `vim`, at least for basic editing tasks. The source
   code of this web page was written using `vim`. `vim` is a *modal* editor
   and, as such, is different from any editor that you've used before. Start by
   working through the `vimtutor`. It should take you about 30 minutes.

   ``` shell_session
   $ vimtutor
   ```

## Linux tutorial

1. Work through the tutorial at [http://hesabu.net/unixtut](http://hesabu.net/unixtut).

1. Work through the sections of [Learning the
   Shell](http://linuxcommand.org/lc3_learning_the_shell.php) from *1. What is
   "The Shell"?* through to *9. Permissions.* Don't just read passively. Have a
   command line open and try everything. Experiment until you are comfortable
   with these ideas.

1. Develop your understanding further by reading Chapters 1-6 in [The Linux
   Command Line]({{site.baseurl}}{{site.raurl}}/TLCL.pdf). Have a command line open and try out
   what you're reading about.

1. Use `ifconfig -a` to discover what IP addresses have been allocated to your
   network interfaces.

1. Start up Wireshark in your host OS and Firefox in your guest OS. Generate
   some network traffic from Firefox (search for something in Google). Can you
   identify the packets being transferred in Wireshark? Try to explain what you
   see.

1. When you're ready to shut down your system, you can do this from the command
   line using the `shutdown` command.

     ``` shell_session
     $ sudo shutdown -h now
     ```

**Note:** <br/>
1. If your current Wireshark configuration will not allow you to capture
packets without running it as <em>root</em>, reconfigure it as follows
and restart:

   ``` shell_session
   $ sudo dpkg-reconfigure wireshark-common # say 'yes' to allow non-root users
   $ sudo usermod -a -G wireshark student # add user 'student' to group 'wireshark'
   $ newgrp wireshark # should avoid need to log out and back in again
   $ wireshark 2>/dev/null &amp; # restart wireshark
   ```

1. By default, Ubuntu will use <em>NetworkManager</em> to manage the
configuration of the network interfaces on your desktop machine. For
many of the labs in this module, you'll find it more convenient to
manage the network interfaces through the file
<em>/etc/network/interfaces</em>. In order to ensure that
<em>NetworkManager</em> does not attempt to manage the interfaces that
you identify in <em>/etc/network/interfaces</em>, you should modify
the file <em>/etc/NetworkManager/NetworkManager.conf</em>, as follows:
    * Ensure that the <em>dns</em> entry in <em>main</em> is commented out.

       ```
       # dns=dnsmasq
       ```

    *  Ensure that the <em>managed</em> entry in the <em>ifupdown</em> section is set to <em>false</em>.

       ```
       [ifupdown]
       managed=false
       ```


    *  Now add an entry in <em>/etc/network/interfaces</em> will determine the network interface configuration. For example,

       ```
       auto eth0
       iface eth0 inet dhcp
       ```
or for a static configuration,

       ```
       auto eth0
       iface eth0 inet static
         address 192.168.1.100
         netmask 255.255.255.0
         gateway 192.168.1.1
         dns-nameservers 8.8.8.8 8.8.4.4
       ```

**Optional**: If (like me) you're irritated because the launcher
icons on your desktop are too big, then you can make them smaller.

1. Make sure that you start your VM with 3D support enabled:
<strong>Display->Video->Extended Features->Enable 3D Acceleration</strong>

1. Make sure that you log into your VM choosing the Unity desktop (not
Unity 2-D). Use the Ubuntu icon next to the username on the log-in
screen to select the desktop manager.

1. Once you've logged in, you can change the size of the launcher icons from
<strong>System settings->Appearance->Launcher icon size</strong>

1. Make sure that you have a copy of your VM before you leave the lab. If you
need to save it to a portable storage device, it's probably simplest to
use "File -> Export Appliance". Accept the defaults except for "File" when
you should "Choose" your portable storage device.

1. There is more information about network configuration in the <a
href="https://help.ubuntu.com/16.04/serverguide/network-configuration.html">Ubuntu
network configuration</a> documentation.


